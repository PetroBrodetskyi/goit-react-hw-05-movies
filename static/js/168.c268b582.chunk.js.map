{"version":3,"file":"static/js/168.c268b582.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","serviсes/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewlist\":\"Reviews_reviewlist__5QowB\"};","import { MovieAPI } from 'serviсes/moviesApi';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport css from \"./Reviews.module.css\"\n\nconst movieAPI = new MovieAPI();\n\nexport default function Reviews() {\n  const [data, setData] = useState([]);\n  const [err, setErr] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const resp = await movieAPI.getMovieReviews(movieId);\n        setData(resp.results);\n        console.log('resp:', resp);\n      } catch (error) {\n        setErr(error);\n      }\n    }\n    fetchData();\n  }, [movieId]);\n\n  return (\n    <>\n      {data.length > 0 ? (\n        <ul className={css.reviewlist}>\n          {data.map(({ id, author, content }) => (\n            <li key={id}>\n              <h4>{author}</h4>\n              <p>{content}</p>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>No reviews available</p>\n      )}\n      {err && <h1>Oooops... Please reload page</h1>}\n    </>\n  );\n}\n","import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.headers.common['Authorization'] =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNjE3ZGMxMzZlZGFlNjkwMTFmNTZiM2E0M2I3YjRjMCIsInN1YiI6IjY1NWUxZmNlMjY2Nzc4MDE0ZTk0OGE4ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jr2tp7PBlGeGpY0LXLeU6Aq5bMm4NVEy8ImAKNU6t7Q';\n\nexport class MovieAPI {\n  config = {\n    params: {\n      query: '',\n      page: 1,\n    },\n  };\n\n  setSearchQuestion(q) {\n    this.config.params.query = q;\n    this.config.params.page = 1;\n  }\n\n  getTrending() {\n    return axios('trending/movie/day', this.config).then(({ data }) => {\n      this.config.params.page += 1;\n      return data;\n    });\n  }\n\n  searchMovies() {\n    return axios('search/movie', this.config).then(({ data }) => {\n      this.config.params.page += 1;\n      return data;\n    });\n  }\n\n  getMovieDetails(movieId) {\n    return axios(`movie/${movieId}`).then(({ data }) => data);\n  }\n\n  getMovieCredits(movieId) {\n    return axios(`movie/${movieId}/credits`).then(({ data }) => data);\n  }\n\n  getMovieReviews(movieId) {\n    return axios(`movie/${movieId}/reviews`).then(({ data }) => data);\n  }\n\n  setParams(params) {\n    this.config.params = {\n      ...this.config.params,\n      ...params,\n    };\n  }\n\n  setConfig(config) {\n    for (const key in config) {\n      this.config[key] = { ...this.config[key], ...config[key] };\n    }\n  }\n}"],"names":["movieAPI","MovieAPI","Reviews","_useState","useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","err","setErr","movieId","useParams","useEffect","_fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","resp","_context","prev","next","getMovieReviews","sent","results","console","log","t0","stop","apply","arguments","fetchData","_jsxs","_Fragment","children","length","_jsx","className","css","map","_ref","id","author","content","axios","_classCallCheck","config","params","query","page","_createClass","key","value","q","this","_this","then","_this2","_ref2","concat","_ref3","_ref4","_ref5","_objectSpread"],"sourceRoot":""}