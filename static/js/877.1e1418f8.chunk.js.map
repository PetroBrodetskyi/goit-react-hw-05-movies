{"version":3,"file":"static/js/877.1e1418f8.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MuvieDetails.module.css?fe0f","pages/MovieDetails/MovieDetails.jsx","serviсes/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"muviecontainer\":\"MuvieDetails_muviecontainer__p-71P\",\"imgcontainer\":\"MuvieDetails_imgcontainer__M5CSP\",\"infoflex\":\"MuvieDetails_infoflex__NMdnl\",\"infotitle\":\"MuvieDetails_infotitle__e6Zww\",\"infolink\":\"MuvieDetails_infolink__KU2Wv\"};","import { MovieAPI } from 'serviсes/moviesApi';\nimport { Button } from 'components/Button/Button';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport {\n  Link,\n  Outlet,\n  useLocation,\n  useNavigate,\n  useParams,\n} from 'react-router-dom';\nimport css from \"./MuvieDetails.module.css\"\n\nconst movieAPI = new MovieAPI();\n\nconst BASE_URL = 'https://image.tmdb.org/t/p/w400';\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState(null);\n  const [err, setErr] = useState(null);\n  const { movieId } = useParams();\n  const location = useRef(useLocation());\n  const backLink = location.current.state?.from ?? '/';\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const resp = await movieAPI.getMovieDetails(movieId);\n        setMovie(resp);\n      } catch (err) {\n        setErr(err);\n      }\n    }\n    fetchData();\n  }, [movieId]);\n\n  const { title, poster_path, overview, vote_average, genres } = movie || {};\n\n  return (\n    <>\n      <Button text={'<- Go back'} handleClick={() => navigate(backLink)} />\n      {movie && (\n        <>\n          <div className={css.muviecontainer}>\n            <img className={css.imgcontainer} src={BASE_URL + poster_path} alt=\"poster\" />\n            <div>\n              <h1>{title}</h1>\n              <p>User score: {(vote_average * 10).toFixed()}%</p>\n              <h2>Overview</h2>\n              <p>{overview ? overview : 'N/A'}</p>\n              <h2>Genres</h2>\n              <p>{genres.length > 0 ? genres.map(i => i.name) : 'N/A'}</p>\n              \n              </div>\n          </div>\n          <h3 className={css.infotitle}>Additional information</h3>\n            <ul className={css.infoflex}>\n              <li>\n              <Link className={css.infolink} to={'cast'}>\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link className={css.infolink} to={'reviews'}>\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n      {err && <h1>Oooops... Please reload page</h1>}\n    </>\n  );\n}","import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.headers.common['Authorization'] =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNjE3ZGMxMzZlZGFlNjkwMTFmNTZiM2E0M2I3YjRjMCIsInN1YiI6IjY1NWUxZmNlMjY2Nzc4MDE0ZTk0OGE4ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jr2tp7PBlGeGpY0LXLeU6Aq5bMm4NVEy8ImAKNU6t7Q';\n\nexport class MovieAPI {\n  config = {\n    params: {\n      query: '',\n      page: 1,\n    },\n  };\n\n  setSearchQuestion(q) {\n    this.config.params.query = q;\n    this.config.params.page = 1;\n  }\n\n  getTrending() {\n    return axios('trending/movie/day', this.config).then(({ data }) => {\n      this.config.params.page += 1;\n      return data;\n    });\n  }\n\n  searchMovies() {\n    return axios('search/movie', this.config).then(({ data }) => {\n      this.config.params.page += 1;\n      return data;\n    });\n  }\n\n  getMovieDetails(movieId) {\n    return axios(`movie/${movieId}`).then(({ data }) => data);\n  }\n\n  getMovieCredits(movieId) {\n    return axios(`movie/${movieId}/credits`).then(({ data }) => data);\n  }\n\n  getMovieReviews(movieId) {\n    return axios(`movie/${movieId}/reviews`).then(({ data }) => data);\n  }\n\n  setParams(params) {\n    this.config.params = {\n      ...this.config.params,\n      ...params,\n    };\n  }\n\n  setConfig(config) {\n    for (const key in config) {\n      this.config[key] = { ...this.config[key], ...config[key] };\n    }\n  }\n}"],"names":["movieAPI","MovieAPI","MovieDetails","_location$current$sta","_location$current$sta2","_useState","useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","err","setErr","movieId","useParams","backLink","useRef","useLocation","current","state","from","navigate","useNavigate","useEffect","_fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","resp","_context","prev","next","getMovieDetails","sent","t0","stop","apply","arguments","fetchData","_ref","title","poster_path","overview","vote_average","genres","_jsxs","_Fragment","children","_jsx","Button","text","handleClick","className","css","src","alt","toFixed","length","map","i","name","Link","to","Suspense","fallback","Outlet","axios","_classCallCheck","config","params","query","page","_createClass","key","value","q","this","_this","then","data","_this2","_ref2","concat","_ref3","_ref4","_ref5","_objectSpread"],"sourceRoot":""}